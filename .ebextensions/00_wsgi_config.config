option_settings:
  # Configurações do servidor Python (Gunicorn/WSGI)
  aws:elasticbeanstalk:container:python:
    WSGIPath: app:application

  # Variáveis de ambiente da aplicação (as que você já configurou no console)
  aws:elasticbeanstalk:application:environment:
    FLASK_APP: app.py
    PYTHONPATH: /var/app/current
    DEBUG_ANALISE: True # Se você configurou via console, pode remover se preferir.
    TOGETHER_API_KEY: "tgp_v1_T-MXgORSpaf-k-VtfjYX2rPh_B8-0XFMxw_igPS2Mvw" # Adicione se quiser centralizar
    DATABASE_URL: "mysql+pymysql://admin:Au241286@auditdb.cep6qq66kx3j.us-east-1.rds.amazonaws.com:3306/auditdb" # Adicione se quiser centralizar

# Comandos para executar durante o deploy (ex: migrações de banco de dados)
container_commands:
  01_migrate:
    command: "python app.py db upgrade" # ATENÇÃO: Use 'app.py', não 'application.py'. Se não usa, remova esta seção inteira.
    leader_only: true